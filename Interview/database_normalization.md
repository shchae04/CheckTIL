# 데이터베이스 정규화란?

## 1. 정규화(`Normalization`)란?
데이터베이스 정규화는 **데이터의 중복을 최소화하고, 데이터 무결성을 보장**하기 위해 데이터베이스의 테이블을 구조적으로 정리하는 과정입니다. 이를 통해 **이상(Anomaly) 현상**을 방지하고, 데이터베이스의 일관성을 유지할 수 있습니다.

## 2. 정규화의 필요성
- **중복 데이터 제거**: 불필요한 데이터 중복을 줄여 저장 공간을 효율적으로 사용함.
- **데이터 무결성 보장**: 데이터 변경 시 일관성을 유지할 수 있음.
- **이상 현상 제거**:
  - **삽입 이상(Insertion Anomaly)**: 특정 데이터를 추가하려면 불필요한 데이터를 함께 삽입해야 하는 문제.
  - **삭제 이상(Deletion Anomaly)**: 특정 데이터를 삭제하면 필요한 데이터까지 함께 삭제되는 문제.
  - **갱신 이상(Update Anomaly)**: 한 데이터를 수정할 때 여러 곳을 수정해야 하는 문제.

## 3. 정규형의 종류
정규화는 1NF(제1정규형)부터 5NF(제5정규형)까지 단계적으로 진행됩니다. 일반적으로 **3NF(제3정규형)** 또는 **BCNF(보이스-코드 정규형)** 까지만 수행하는 경우가 많습니다.

###  제1정규형(1NF) - First Normal Form
- 테이블의 모든 컬럼이 **원자값(Atomic Value)** 만을 포함해야 함.
- 즉, **하나의 컬럼에 여러 개의 값이 포함되지 않도록 분리**해야 함.

**예시 (1NF 적용 전)**

| 주문번호 | 상품명         | 고객명 |
|---------|--------------|--------|
| 1001    | 키보드, 마우스 | 홍길동 |

**예시 (1NF 적용 후)**

| 주문번호 | 상품명  | 고객명 |
|---------|-------|--------|
| 1001    | 키보드 | 홍길동 |
| 1001    | 마우스 | 홍길동 |

---

### 제2정규형(2NF) - Second Normal Form
- **1NF를 만족**하면서, **부분적 함수 종속(Partial Dependency)이 존재하지 않도록** 함.
- 즉, **기본키의 일부에만 종속되는 컬럼을 제거하고 별도 테이블로 분리**.

**예시 (2NF 적용 전)**

| 주문번호 | 상품명  | 고객명  | 고객주소 |
|---------|--------|--------|----------|
| 1001    | 키보드 | 홍길동 | 서울시 강남구 |

**예시 (2NF 적용 후)**

- `주문` 테이블

| 주문번호 | 상품명  |
|---------|--------|
| 1001    | 키보드 |

- `고객` 테이블

| 고객명  | 고객주소 |
|--------|----------|
| 홍길동 | 서울시 강남구 |

---

###  제3정규형(3NF) - Third Normal Form
- **2NF를 만족**하면서, **이행적 종속(Transitive Dependency)이 존재하지 않도록** 함.
- 즉, **기본키가 아닌 컬럼이 다른 기본키가 아닌 컬럼을 결정하지 않도록** 분리.

**예시 (3NF 적용 전)**

| 학생ID | 학과   | 학과장  |
|--------|-------|--------|
| 101    | 컴퓨터공학 | 김교수 |

**예시 (3NF 적용 후)**

- `학생` 테이블

| 학생ID | 학과   |
|--------|-------|
| 101    | 컴퓨터공학 |

- `학과` 테이블

| 학과   | 학과장  |
|-------|--------|
| 컴퓨터공학 | 김교수 |

---

###  BCNF(Boyce-Codd Normal Form)
- 3NF를 만족하지만, **후보키(Candidate Key) 사이에 종속성이 발생하는 경우 추가 정규화**를 진행.

## 4. 정규화의 단점
- 테이블이 증가하면서 **JOIN 연산이 많아져 성능이 저하**될 수 있음.
- 지나치게 정규화하면 데이터 조회가 복잡해지고, 속도가 느려질 수 있음.
- 따라서, **정규화와 성능을 고려한 적절한 반정규화(Denormalization)도 필요**함.

## 5. 정리
| 정규형  | 주요 특징 |
|---------|--------------------------------------------------|
| 1NF     | 컬럼이 원자값을 가져야 함 (중복 제거) |
| 2NF     | 부분적 종속 제거 (기본키의 일부만 참조하는 컬럼 분리) |
| 3NF     | 이행적 종속 제거 (기본키 아닌 컬럼이 다른 컬럼을 결정하지 않도록) |
| BCNF    | 후보키 간의 종속성 제거 |

데이터베이스를 설계할 때 **정규화를 통해 무결성을 유지**하면서도, 성능을 고려한 적절한 설계로 **`반정규화`도 일어날 수 있습니다**
