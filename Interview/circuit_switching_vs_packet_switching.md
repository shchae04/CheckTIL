# 회선 교환 방식과 패킷 교환 방식의 차이점

## 1. 한 줄 정의
회선 교환은 통신 전에 물리적 회선을 미리 할당하고 유지하는 방식이며, 패킷 교환은 데이터를 작은 단위(패킷)로 분할해 필요할 때만 네트워크 자원을 사용하는 방식이다.

---

## 2. 회선 교환 방식과 패킷 교환 방식의 특성 비교

### 2-1. 연결 설정(Connection Setup)
- **회선 교환(Circuit Switching)**: 통신 시작 전 전용 회선 할당 필요
- **패킷 교환(Packet Switching)**: 회선 할당 없이 즉시 데이터 전송 시작

```
회선 교환:
1. 호 연결 설정 (Setup)
2. 데이터 전송
3. 회선 해제 (Teardown)

패킷 교환:
1. 데이터를 패킷으로 분할
2. 각 패킷 독립적으로 전송
3. 수신자가 재조립
```

### 2-2. 자원 활용(Resource Allocation)
- **회선 교환**: 통신 중이 아니어도 회선을 독점 (낭비 가능)
- **패킷 교환**: 데이터 전송 시에만 네트워크 자원 사용 (효율적)

```
회선 교환:
|-------|----------|---------|
|사용중 | 유휴상태 | 사용중 |  (회선 계속 점유)

패킷 교환:
|패킷1| ... |패킷2| ... |패킷3|  (필요시에만 사용)
```

### 2-3. 전송 지연(Latency)
- **회선 교환**: 낮은 지연 (회선 연결 후 전송은 빠름)
- **패킷 교환**: 상대적으로 높은 지연 (패킷 처리, 대기시간)

```
회선 교환: 일정한 지연 시간
패킷 교환: 가변적 지연 시간 (네트워크 혼잡도에 따라 변함)
```

### 2-4. 대역폭(Bandwidth)
- **회선 교환**: 고정된 대역폭 (회선 할당 시 결정)
- **패킷 교환**: 동적 대역폭 (네트워크 상황에 따라 변함)

```
회선 교환: 할당된 64kbps는 항상 64kbps
패킷 교환: 네트워크 혼잡 시 처리율 저하 가능
```

### 2-5. 신뢰성(Reliability)
- **회선 교환**: 높은 신뢰성 (전용 경로 보장)
- **패킷 교환**: 상대적으로 낮은 신뢰성 (패킷 손실, 순서 바뀜 가능)

```
회선 교환: 1:1 전용 경로 보장
패킷 교환: 패킷별로 다른 경로 이동 가능 (재전송 처리 필요)
```

### 2-6. 네트워크 혼잡 시 대응
- **회선 교환**: 회선 수 제한으로 접속 거부 가능
- **패킷 교환**: 큐에서 대기 (접속은 가능하나 처리 지연)

```
회선 교환: 모든 회선 사용중 → "접속 불가"
패킷 교환: 버퍼에 대기 → "느리지만 진행"
```

---

## 3. 실제 구현 특성

### 3-1. 전통 전화망 (회선 교환)
- **기술**: PSTN (Public Switched Telephone Network)
- **특징**: 호 연결 → 데이터 전송 → 호 해제
- **장점**: 일정한 품질 보장, 낮은 지연
- **단점**: 비효율적 자원 사용, 높은 비용

```
사용자 A ←—[전용 회선]—→ 사용자 B
(연결 중 다른 사용자는 이 회선 사용 불가)
```

### 3-2. 현대 인터넷 (패킷 교환)
- **기술**: TCP/IP 기반 네트워크
- **특징**: 데이터 → 패킷 분할 → 독립 전송 → 재조립
- **장점**: 효율적 자원 사용, 복구 가능, 확장성 좋음
- **단점**: 지연 변동성, 추가 처리 오버헤드

```
사용자 A ←—[패킷1]—→ 라우터1 —[패킷2]—→ 라우터2 —[패킷3]—→ 사용자 B
(다른 트래픽과 회선 공유)
```

### 3-3. 실시간 통신 프로토콜
- **VoIP**: 패킷 교환 위에서 회선 교환처럼 보이도록 구현
  - QoS(Quality of Service) 보장으로 지연/대역폭 최소화
  - 패킷 손실 시 음성 복원 알고리즘 사용

```
전통 전화: 회선 교환
VoIP: 패킷 교환 + QoS + 손실 보정
```

---

## 4. 사용 사례

### 4-1. 회선 교환을 사용하는 경우
- **전통 전화망**: 음성 통화 (PSTN)
- **전용선 서비스**: 기업 간 전용 통신 회선
- **동기식 실시간 통신**: 일정한 지연이 중요한 경우
- **레거시 시스템**: 기존 전화 기반 통신

```
예시: 은행 ATM - 전용선 연결
사용자 → ATM ←→[전용 회선]←→ 은행 본점
(항상 일정한 응답 시간 보장)
```

### 4-2. 패킷 교환을 사용하는 경우
- **인터넷 통신**: 모든 인터넷 서비스 (HTTP, FTP, Email)
- **동적 데이터 전송**: 크기가 가변적인 데이터
- **다중 사용자 환경**: 여러 사용자가 동시에 네트워크 공유
- **비용 효율성이 중요한 경우**: 자원 공유로 비용 절감

```
예시: 웹 브라우징
사용자1 ┬─[패킷]─→ 라우터 ─[패킷]─→ 웹 서버
사용자2 ┤
사용자3 ┴─[패킷]─→ (같은 회선 공유)
```

---

## 5. 백엔드 개발자 관점의 중요성

### 5-1. 프로토콜 선택
- **VoIP 구현**: 패킷 교환 위에 회선 교환의 특성 구현 (QoS)
- **IoT 통신**: 효율적 자원 사용을 위해 패킷 교환 선호
- **금융 거래**: 신뢰성과 보안을 위해 전용선 or 암호화된 패킷 교환

### 5-2. 성능 최적화
- **지연 시간**: 패킷 교환 환경에서 지연 예측 및 타임아웃 설정
- **패킷 손실 처리**: 재전송 로직, 에러 복구 메커니즘 구현
- **대역폭 관리**: QoS 정책으로 우선순위 설정

### 5-3. 네트워크 설계
- **실시간 서비스**: VoIP, 영상 스트리밍은 QoS가 필수
- **배치 처리**: 이메일, 파일 전송은 일반 패킷 교환 사용 가능
- **혼합 환경**: 회선 교환의 신뢰성 + 패킷 교환의 효율성 결합

---

## 6. 핵심 요약

| 특성 | 회선 교환 | 패킷 교환 |
|------|----------|----------|
| **연결 설정** | 필수 (호 연결) | 불필요 |
| **자원 할당** | 고정 (독점) | 동적 (공유) |
| **지연 시간** | 낮음 (일정함) | 높음 (변동성) |
| **대역폭** | 고정 | 가변 |
| **신뢰성** | 높음 | 상대적으로 낮음 |
| **효율성** | 낮음 (자원 낭비) | 높음 (자원 효율적) |
| **비용** | 높음 | 낮음 |
| **확장성** | 낮음 | 높음 |
| **사용 사례** | 전통 전화, 전용선 | 인터넷, 모든 데이터 통신 |

### 6-1. 선택 기준
- **일정한 지연이 필수적이면** → 회선 교환 or QoS가 있는 패킷 교환
- **자원 효율성이 중요하면** → 패킷 교환
- **신뢰성이 절대적이면** → 회선 교환 또는 전용선
- **확장성과 유연성이 필요하면** → 패킷 교환

### 6-2. 실무 팁
- 현대 네트워크는 **패킷 교환이 표준** (TCP/IP 기반)
- **VoIP**는 패킷 교환 위에서 회선 교환처럼 작동하도록 설계
- **QoS(Quality of Service)**를 통해 패킷 교환에서도 회선 교환 수준의 신뢰성 구현 가능
- 금융, 의료 등 중요 서비스는 **MPLS 기반 전용선**으로 회선 교환 방식의 보장 제공
- 개발할 때 **네트워크 지연 및 손실**을 항상 고려
