# 계층형 아키텍처 (Layered Architecture)

## 개요
- **계층형 아키텍처**는 소프트웨어 시스템을 여러 수평적 계층으로 구성하는 아키텍처 패턴입니다.
- 각 계층은 특정 책임을 가지며, 상위 계층은 하위 계층에 의존하는 구조를 가집니다.
- 가장 널리 사용되는 아키텍처 패턴 중 하나로, 복잡한 시스템을 단순화하고 관리하기 쉽게 만듭니다.

## 주요 계층 구성
- **프레젠테이션 계층 (Presentation Layer)**
  - 사용자 인터페이스와 관련된 처리를 담당
  - 사용자 입력을 받고 결과를 표시
  - 웹 애플리케이션에서는 컨트롤러, 뷰 템플릿 등이 포함됨
  
- **비즈니스 로직 계층 (Business Logic Layer)**
  - 애플리케이션의 핵심 기능과 비즈니스 규칙을 구현
  - 데이터 검증, 계산, 비즈니스 워크플로우 처리
  - 서비스 클래스, 도메인 모델 등이 포함됨
  
- **데이터 접근 계층 (Data Access Layer)**
  - 데이터베이스나 외부 시스템과의 통신을 담당
  - 데이터 저장, 조회, 수정, 삭제 등의 작업 수행
  - DAO(Data Access Object), Repository 등이 포함됨
  
- **데이터 계층 (Data Layer)**
  - 실제 데이터가 저장되는 계층
  - 데이터베이스, 파일 시스템, 외부 서비스 등이 포함됨

## 계층 간 통신 원칙
- **단방향 의존성**: 상위 계층은 하위 계층에 의존하지만, 하위 계층은 상위 계층을 알지 못함
- **관심사 분리**: 각 계층은 자신의 책임에만 집중하고 다른 계층의 구현 세부사항을 알 필요가 없음
- **인터페이스 기반 통신**: 계층 간 통신은 인터페이스를 통해 이루어져 구현 세부사항을 캡슐화

## 장점
- **관심사 분리**: 각 계층이 특정 책임에 집중하여 코드의 가독성과 유지보수성 향상
- **재사용성**: 계층별로 독립적인 컴포넌트를 개발하여 다른 시스템에서 재사용 가능
- **테스트 용이성**: 각 계층을 독립적으로 테스트할 수 있어 단위 테스트가 용이함
- **확장성**: 특정 계층만 수정하거나 확장할 수 있어 시스템 변경이 용이함
- **개발 효율성**: 개발자가 특정 계층에 전문화되어 효율적인 개발 가능

## 단점 및 도전 과제
- **성능 오버헤드**: 계층 간 데이터 전달 과정에서 변환 작업이 필요하여 성능 저하 가능
- **과도한 추상화**: 단순한 기능에도 여러 계층을 거쳐야 하는 경우 불필요한 복잡성 발생
- **계층 간 결합도**: 잘못 설계된 경우 계층 간 강한 결합이 발생할 수 있음
- **변경 전파**: 하위 계층의 변경이 상위 계층에 영향을 미칠 수 있음

## 실제 적용 예시
### 스프링 프레임워크 기반 웹 애플리케이션
- **컨트롤러 (Controller)**: 프레젠테이션 계층으로 HTTP 요청 처리
- **서비스 (Service)**: 비즈니스 로직 계층으로 핵심 비즈니스 로직 구현
- **레포지토리 (Repository)**: 데이터 접근 계층으로 데이터베이스 연동
- **엔티티 (Entity)**: 데이터 모델 계층으로 데이터베이스 테이블과 매핑

### 안드로이드 애플리케이션
- **액티비티/프래그먼트 (Activity/Fragment)**: UI 계층
- **뷰모델 (ViewModel)**: 프레젠테이션 로직 계층
- **유스케이스 (UseCase)**: 비즈니스 로직 계층
- **레포지토리 (Repository)**: 데이터 접근 계층
- **데이터 소스 (DataSource)**: 로컬 DB나 원격 API 연동 계층

## 현대적 변형
- **클린 아키텍처 (Clean Architecture)**: 로버트 마틴이 제안한 계층형 아키텍처의 변형으로, 의존성 규칙을 더 엄격하게 적용
- **헥사고날 아키텍처 (Hexagonal Architecture)**: 포트와 어댑터 패턴을 사용하여 비즈니스 로직을 외부 시스템과 분리
- **DDD 계층형 아키텍처**: 도메인 주도 설계 원칙을 적용한 계층형 아키텍처

## 결론
계층형 아키텍처는 시스템을 논리적으로 분리하여 복잡성을 관리하는 효과적인 방법입니다. 적절한 계층 분리와 의존성 관리를 통해 유지보수성, 확장성, 테스트 용이성 등 다양한 이점을 얻을 수 있습니다. 그러나 프로젝트의 규모와 요구사항에 맞게 적절한 수준의 계층화를 적용하는 것이 중요하며, 불필요한 복잡성을 피하기 위해 실용적인 접근이 필요합니다.